---
title: Defining Servers
sidebar_position: 2.5
---

# Defining Servers

In DeviceScript, any hardware component is accessed through a service **client**.
Therefore, you need to start service **servers** on top of your
low level hardware components to program them using DeviceScript.

## Built-in servers

DeviceScript provides helper functions to mount of variety of servers out of the box
in the `@devicescript/servers` module. Basically, you have access to all the drivers available in the [C server SDK](https://github.com/microsoft/jacdac-c/tree/main/drivers),
including **GPIO**, **analog** and **I2C**. See [supported list](/devices/hw).

For example, the [startButton](/api/servers/button) function allows to mount a [button server](https://microsoft.github.io/jacdac-docs/services/button)
over a pin and returns the [client](/api/clients/button) for it.

```ts no-run
import { startButton } from "@devicescript/servers"

const buttonA = startButton({
    pin: ds.gpio(2),
})
```

Once you've add this code to your script, you can interact with pin `2` (hardware specific identifier) through the `buttonA` client.
The variable name is automatically used as the **role** and **instance** name.

```ts no-run
import { startButton } from "@devicescript/servers"

const buttonA = startButton({
    pin: ds.gpio(2),
})
buttonA.up.subscribe(() => {
    console.log("up!")
})
```

-   Learn more about the [builtin servers](/api/servers)

## Specifying pins

You can either use hardware GPIO numbers using `ds.gpio()` function, or you can import
a board definition file and use the labels present on the board:

```ts no-run
import { startButton } from "@devicescript/servers"
import { pins } from "@dsboard/adafruit_qt_py_c3"

const buttonA2 = startButton({
    pin: pins.A2,
})
```

The doc-string for `pins.A2` will tell you GPIO number (`1` in this case).
Using named pins is also less error-prone since pins used for internal
functions are not exposed through the `pins` object and the pins that are
exposed are annotated with type (input, output, analog, etc.) which is then
required by the `startSomething()` functions.
The `ds.gpio()` function does not check for pin functions or usage.

## Jacdac modules

If you connect a [Jacdac module](https://aka.ms/jacdac), it will automatically run as a service server and
you will be available to bind a role to that module.

For example, the KittenBot KeyCap button will surface as a **button server** when connected.

[![A KittenBot KeyCap button](https://microsoft.github.io/jacdac-docs/images/devices/kittenbot/keycapbuttonv10.list.jpg "KittenBot KeyCap button")](https://microsoft.github.io/jacdac-docs/devices/kittenbot/keycapbuttonv10/)

## Custom servers

Those are not supported yet. Stay tuned.
